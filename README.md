# Search Keyword Performance Analyzer

This project contains a Python script that processes a tab‑delimited hit‑level
data file from Adobe Analytics and calculates the total revenue generated by
visitors arriving from major search engines (Google, Bing, Yahoo and MSN).

## Contents

* `search_keyword_performance.py` – main script that performs the analysis.
* `sample_data.tsv` – a small sample dataset for testing the script.
* `output_example.tsv` – an example of the report generated by the script.
* `README.md` – this documentation.

## Prerequisites

* Python 3.7 or later
* On Linux/macOS systems, no additional packages are required. If you plan to
  run this on Windows or deploy to AWS Lambda, ensure Python 3 is installed.

Optionally, create a virtual environment to isolate dependencies:

```bash
python3 -m venv venv
source venv/bin/activate
```

## Usage

1. **Place your input file** somewhere accessible. The file must be
   tab‑delimited with a header row containing at least the following columns:
   `event_list`, `product_list`, and `referrer`. The script safely ignores
   other columns.
2. **Run the script** with the file path as the only argument:

   ```bash
   python search_keyword_performance.py path/to/your_file.tsv
   ```

   The script reads the file line by line, extracts search engine domain and
   keyword from the `referrer` column, verifies that a purchase occurred by
   checking `event_list` for the purchase event (ID 1), and sums the revenue
   specified in the fourth field of each product in the `product_list` column.
3. **Retrieve the output**. After processing, the script writes a tab‑delimited
   report named `YYYY-mm-dd_SearchKeywordPerformance.tab` in the current
   directory. Each row of the report contains:

   * `Search Engine Domain` – e.g. `google.com`
   * `Search Keyword` – e.g. `ipod`
   * `Revenue` – total revenue generated for that search engine and keyword

   The report is sorted by revenue in descending order so the most
   profitable keywords appear at the top.

## Sample Data

The `sample_data.tsv` file includes a few rows of sample hit‑level data. You
can run the script on this file to verify that everything works:

```bash
python search_keyword_performance.py sample_data.tsv
cat $(date +%Y-%m-%d)_SearchKeywordPerformance.tab
```

You should see output similar to the file `output_example.tsv`.

## AWS Deployment (Optional)

If you wish to deploy this script to AWS, consider packaging it as a Lambda
function triggered by an S3 file upload. The Lambda function would parse the
uploaded data file and write the result to another S3 bucket. AWS SAM or
Serverless Framework can automate the deployment. Consult the AWS
documentation for instructions on packaging dependencies and creating
appropriate IAM roles.

## License

This project is provided as‑is for educational purposes.